[DEFAULT]
# We are increasing the RPC response timeouts to 5 minutes due to the neutron
# generic switch driver, which synchronously applies switch configuration for
# each ironic port during node provisioning and tear down.
# The specific API calls that require this long timeout are:
# - Creation and deletion of VLAN networks.
# - Creation or update of ports, adding binding information.
# - Update of ports, removing binding information.
# - Deletion of ports.
rpc_response_timeout = 300

[port_physnet]
# Set the physical_network field on ports based on switch names.
{% set mappings = [{'switches': groups['ctl-switches'], 'physnet': 'physnet1'},
                   {'switches': groups['hs-switches'], 'physnet': 'physnet2'}] %}
switch_sys_name_mapping = {% for mapping in mappings %}{% for switch in mapping['switches'] %}{{ switch }}:{{ mapping['physnet'] }},{% endfor %}{% endfor %}
