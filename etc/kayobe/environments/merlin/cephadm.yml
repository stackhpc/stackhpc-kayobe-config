---
cephadm_ceph_release: reef
cephadm_fsid: 03fc24b7-762f-4f73-9e0f-c737d7344546
cephadm_image_tag: v18.2.0
# Using distro-provided (universe) packages
cephadm_custom_repos: true
stackhpc_sync_ceph_images: false

cephadm_osd_spec: |
  service_type: osd
  service_id: hdd
  placement:
    host_pattern: merlin-stor00[1-8].hpc.rug.nl
  spec:
    data_devices:
      rotational: 1
    db_devices:
      rotational: 0
    encrypted: true
  ---
  service_type: osd
  service_id: nvme
  placement:
    hosts:
      - merlin-stor009.hpc.rug.nl
      - merlin-stor010.hpc.rug.nl
      - merlin-stor011.hpc.rug.nl
      - merlin-stor012.hpc.rug.nl
  spec:
    data_devices:
      model: Dell Express Flash NVMe P4610 3.2TB SFF
    encrypted: true

cephadm_crush_rules:
  - name: replicated_rule_hdd
    bucket_root: default
    bucket_type: host
    device_class: hdd
    rule_type: replicated
    state: present
  - name: replicated_rule_ssd
    bucket_root: default
    bucket_type: host
    device_class: ssd
    rule_type: replicated
    state: present

cephadm_pools:
  - name: cinder-backup
    application: rbd
    pool_type: replicated
    rule_name: replicated_hdd
    state: present
  - name: cinder-volumes
    application: cinder-volumes
    pool_type: replicated
    rule_name: replicated_hdd
    state: present
  - name: cinder-volumes-ssd
    application: cinder-volumes
    pool_type: replicated
    rule_name: replicated_ssd
    state: present
  - name: ephemeral-vms
    application: ephemeral-vms
    pool_type: replicated
    rule_name: replicated_hdd
    state: present
  - name: glance-images
    application: glance-images
    pool_type: replicated
    rule_name: replicated_hdd
    state: present
  - name: gnocchi-metrics
    application: rbd
    pool_type: replicated
    rule_name: replicated_hdd
    state: present
  - name: proxmox
    application: rbd
    pool_type: replicated
    rule_name: replicated_ssd
    state: present
