---
# StackHPC monitoring configuration

###############################################################################
# Alert configuration

# Threshold to trigger a LowMemory alert in Gibibytes (GiB). When the amount
# of free memory is lower than this value an alert will be triggered.
alertmanager_low_memory_threshold_gib: 5

# Whether to raise an alert if any network bond is configured with a single
# link. Change to false to disable this alert.
alertmanager_warn_network_bond_single_link: true

###############################################################################
# Exporter configuration

# Whether the OpenStack Capacity exporter is enabled.
# Enabling this flag will result in HAProxy configuration and Prometheus scrape
# targets being templated during deployment.
stackhpc_enable_os_capacity: true

# Path to a CA certificate file to trust in the OpenStack Capacity exporter.
stackhpc_os_capacity_openstack_cacert: ""

# Whether TLS certificate verification is enabled for the OpenStack Capacity
# exporter during Keystone authentication.
stackhpc_os_capacity_openstack_verify: true

# Whether the RADOS gateway usage exporter is enabled.
# Enabling this will result in templating radosgw_usage_exporter endpoint as
# Prometheus scrape targets during deployment.
stackhpc_enable_radosgw_usage_exporter: true

# Port to expose RADOS gateway usage exporter. Default is 9242
stackhpc_radosgw_usage_exporter_port: 9242

# Path to a certificate for internal TLS in the RADOS gateway usage exporter.
stackhpc_radosgw_usage_exporter_cacert: "{{ kayobe_env_config_path }}/vault/OS-TLS-INT.crt"

# Whether TLS certificate verification is enabled for the RADOS gateway usage
# exporter for querying Ceph RADOS gateway APIs. Default is true
stackhpc_radosgw_usage_exporter_verify: true
